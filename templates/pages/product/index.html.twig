{% extends 'base.html.twig' %}

{% block title %}Access Store{% endblock %}

{% block body %}

<div class="container">
	<!-- Article main content -->
	<article class="col-md-12 maincontent">
		<div class="container">
			<div class="row"> <br><br><br><br>
				<br><h1>Product index</h1>
				<hr style="width:100%; height:10px; background-color:#1B4F72 ">
					<!-- Begin Page Content -->
    		        <div class="container-fluid">
						
						
						
						
						
						
						
						
						
                        
                        
                        
								    {% if products is not empty %}
								        <table class="table">
								            <thead>
								                <tr>
								                    <th>Image</th>
								                    <th>Id</th>
								                    <th>Libellé</th>
								                    <th>Description</th>
								                    <th>Marque</th>
								                    <th>Catégorie</th>
								                    <th>Prix</th>
								                    <th>Date de création</th>
								                    <th>Mise à jour</th>
								                    <th>Actions</th>
								                </tr>
								            </thead>
								            <tbody>
								                {% for product in products %}
								                    <tr>
								                        <td>
								                            {% for image in product.imageShop %}
								                                <img src="{{ asset('/uploads/' ~ image.title) }}" alt="" width="150">
								                            {% endfor %}
								                        </td>
								                        <td>{{ product.id }}</td>
								                        <td>{{ product.title }}</td>
								                        <td>{{ product.description }}</td>
								                        <td>{{ product.brand }}</td>
								                        <td>{{ product.categoryShop }}</td>
								                        <td>
								                            {% if product.price is null %}
								                                non renseigné
								                            {% else %}
								                                {{ product.price|number_format(2, '.', ',') }}€
								                            {% endif %}
								                        </td>
								                        <td>{{ product.createdAt|date('d/m/Y') }}</td>
								                        <td>{{ product.updatedAt|date('d/m/Y') }}</td>
								                        <td>
								                            <a href="{{ path('product_show', {'id': product.id}) }}">lire</a>
								                            <a href="{{ path('product_edit', {'id': product.id}) }}">edit</a>
								                        </td>
								                    </tr>
								                {% endfor %}
								            </tbody>
								        </table>
								        <div class="text-center mt-4">
								            {{ knp_pagination_render(products) }}
								        </div>
								    {% else %}
								        <p>No records found.</p>
								    {% endif %}
								
								    <a href="{{ path('product_new') }}">Create new</a>
							
						</div>
					</div>
				</div>
			</div>
		</article>
	</div>
						
						
						
{% endblock %}
